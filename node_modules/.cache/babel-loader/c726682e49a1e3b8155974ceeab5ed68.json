{"ast":null,"code":"var _jsxFileName = \"/home/npr/food ecom/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Resturants from './components/Resturants';\nimport Categories from './components/Categories';\nimport Products from './components/Products';\nimport AllProducts from './products.json';\nimport Cart from './components/Cart';\nimport filterList from './components/filterList';\nimport filterlist from './components/filterlist';\nimport Navbar from './components/Navbar';\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedResturants, setSelectedResturants] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [MountFlag, setMountFlag] = useState(true);\n  const [Search, SearchIconWrapper, StyledInputBase] = useState([]);\n  useEffect(() => {\n    setProducts(filterList([], null));\n\n    if (MountFlag) {\n      axios.get('http://localhost:8080/Cart/cart/id').then(response => {\n        console.log(response);\n        setCart(response.data);\n        setMountFlag(false);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, []);\n\n  const setResturant = resturant => {\n    console.log(resturant);\n    const resturants = [selectedResturants];\n    console.log(products);\n    let newArray = [];\n\n    if (resturant == 'AllProducts') {\n      newArray = AllProducts;\n    } else {\n      newArray = AllProducts.filter(element => {\n        if (element.restaurantName == resturant) {\n          return element;\n        }\n      });\n    }\n\n    console.log(newArray);\n    setProducts(newArray);\n  };\n\n  const setCategory = category => {\n    console.log(category);\n    const categories = [selectedCategories];\n    console.log(products);\n    let newArray = [];\n\n    if (category == 'AllProducts') {\n      newArray = AllProducts;\n    } else {\n      newArray = AllProducts.filterist(element => {\n        if (element.categoryName == category) {\n          return element;\n        }\n      });\n    }\n\n    console.log(newArray);\n    setProducts(newArray);\n  };\n\n  const searchProducts = text => {\n    // console.log('searchtext',text);\n    let searchText = text.toLocaleLowerCase();\n    let filteredProducts = AllProducts.filter(product => {\n      let productTitle = product.title.toLocaleLowerCase();\n      let restaurantName = product.restaurantName.toLocaleLowerCase();\n\n      if (productTitle.includes(searchText) || restaurantName.includes(searchText)) {\n        return product;\n      }\n    }); // console.log(filteredProducts);\n\n    setProducts(filteredProducts);\n  };\n\n  const sortProducts = method => {\n    const array = products;\n\n    if (method === \"Lowest to Highest\") {\n      array.sort(function (a, b) {\n        console.log(a.price, b.price);\n        return a.price - b.price;\n      });\n    } else if (method === \"Highest to Lowest\") {\n      array.sort(function (a, b) {\n        return b.price - a.price;\n      });\n    }\n\n    setProducts(array);\n  };\n\n  const addToCart = item => {\n    const productList = [...cart];\n\n    if (!productList.includes(item)) {\n      productList.push(item);\n    }\n\n    const index = productList.indexOf(item);\n    productList[index].quantity++;\n    setCart(productList);\n    console.log(item);\n    axios.post(\"http://localhost:8080/Cart/cart\", [{\n      discount: item.discount,\n      price: item.price,\n      quantity: item.quantity,\n      title: item.title,\n      url: item.url\n    }]).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const changeQuantity = (item, e) => {\n    const productList = [...cart];\n    console.log(item, e);\n    const index = productList.indexOf(item);\n\n    if (e === '+') {\n      productList[index].quantity++; //update quantity of item\n\n      axios.put('http://localhost:8080/Cart/cart', {\n        id: ''\n      }).then(Response => {\n        console.log(Response);\n      }).catch(Err => {\n        console.log(Err);\n      });\n    } else {\n      if (productList[index].quantity > 1) {\n        productList[index].quantity--; //Remove item from Database\n\n        axios.put('http://localhost:8080/Cart/cart', {\n          id: ''\n        }).then(Response => {\n          console.log(Response);\n        }).catch(Err => {\n          console.log(Err);\n        });\n      } else {\n        productList.splice(index, 1); //delete API\n\n        axios.delete('http://localhost:8080/Cart/cart', {\n          id: ''\n        }).then(Response => {\n          console.log(Response);\n        }).catch(Err => {\n          console.log(Err);\n        });\n      }\n    }\n\n    setCart(productList);\n  };\n\n  const handleClearProducts = () => {\n    console.log('clear', cart);\n    let CartItems = [];\n    axios.get('http://localhost:8080/Cart/cart').then(response => {\n      console.log(response);\n      CartItems = response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n    CartItems.map(element => {\n      axios.delete('http://localhost:8080/Cart/cart', {\n        id: element.id\n      }).then(Response => {\n        console.log(Response);\n      }).catch(Err => {\n        console.log(Err);\n      });\n    });\n    setCart([]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Resturants, {\n    selectedResturants: selectedResturants,\n    setResturant: setResturant,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Categories, {\n    selectedCategories: selectedCategories,\n    setCategory: setCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Products, {\n    searchProducts: searchProducts,\n    products: products,\n    sortProducts: sortProducts,\n    addToCart: addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Cart, {\n    handleClearProducts: handleClearProducts,\n    products: cart,\n    changeQuantity: changeQuantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/npr/food ecom/src/App.js"],"names":["React","useState","useEffect","axios","Resturants","Categories","Products","AllProducts","Cart","filterList","filterlist","Navbar","App","products","setProducts","selectedResturants","setSelectedResturants","selectedCategories","setSelectedCategories","cart","setCart","MountFlag","setMountFlag","Search","SearchIconWrapper","StyledInputBase","get","then","response","console","log","data","catch","err","setResturant","resturant","resturants","newArray","filter","element","restaurantName","setCategory","category","categories","filterist","categoryName","searchProducts","text","searchText","toLocaleLowerCase","filteredProducts","product","productTitle","title","includes","sortProducts","method","array","sort","a","b","price","addToCart","item","productList","push","index","indexOf","quantity","post","discount","url","error","changeQuantity","e","put","id","Response","Err","splice","delete","handleClearProducts","CartItems","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Resturants from './components/Resturants';\nimport Categories from './components/Categories';\nimport Products from './components/Products';\nimport AllProducts from './products.json';\nimport Cart from './components/Cart';\nimport filterList from './components/filterList';\nimport filterlist from './components/filterlist';\nimport Navbar from './components/Navbar';\n\n\n\n\nconst App = () => {\n\n  const [products, setProducts] = useState([]);\n  const [selectedResturants, setSelectedResturants] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [MountFlag, setMountFlag] = useState(true);\n  const [Search, SearchIconWrapper, StyledInputBase] = useState([]);\n\n  useEffect(() => {\n    setProducts(filterList([], null));\n    if (MountFlag) {\n      axios.get('http://localhost:8080/Cart/cart/id')\n        .then((response) => {\n          console.log(response);\n          setCart(response.data);\n          setMountFlag(false)\n        }).catch((err) => {\n          console.log(err);\n        })\n    }\n  }, [])\n\n  const setResturant = (resturant) => {\n    console.log(resturant);\n    const resturants = [selectedResturants];\n    console.log(products);\n    let newArray=[];\n    if(resturant=='AllProducts'){\n      newArray=AllProducts\n    }else{\n      newArray = AllProducts.filter((element) => {\n        if (element.restaurantName == resturant) {\n          return element;\n        }\n      })\n    }\n    \n    console.log(newArray)\n\n    setProducts(newArray);\n  }\n  const setCategory = (category) => {\n    console.log(category);\n    const categories = [selectedCategories];\n    console.log(products);\n    let newArray=[];\n    if(category=='AllProducts'){\n      newArray=AllProducts\n    }else{\n      newArray = AllProducts.filterist((element) => {\n        if (element.categoryName == category) {\n          return element;\n        }\n      })\n    }\n    \n    console.log(newArray)\n\n    setProducts(newArray);\n  }\n\n  const searchProducts=(text)=>{\n    // console.log('searchtext',text);\n    let searchText=text.toLocaleLowerCase()\n    let filteredProducts=AllProducts.filter((product)=>{\n      let productTitle=product.title.toLocaleLowerCase();\n      let restaurantName=product.restaurantName.toLocaleLowerCase();\n      if(productTitle.includes(searchText) || restaurantName.includes(searchText)){\n        return product;\n      }  \n    });\n    // console.log(filteredProducts);\n    setProducts(filteredProducts);\n  }\n\n  const sortProducts = (method) => {\n    const array = products;\n\n    if (method === \"Lowest to Highest\") {\n      array.sort(function (a, b) {\n        console.log(a.price, b.price)\n        return a.price - b.price\n      })\n    }\n    else if (method === \"Highest to Lowest\") {\n      array.sort(function (a, b) {\n        return b.price - a.price\n      })\n    }\n    setProducts(array);\n  }\n\n  const addToCart = (item) => {\n    const productList = [...cart];\n    if (!productList.includes(item)) {\n      productList.push(item);\n    }\n    const index = productList.indexOf(item);\n    productList[index].quantity++;\n    setCart(productList);\n\n    console.log(item);\n    axios.post(\"http://localhost:8080/Cart/cart\", [{\n      discount: item.discount,\n      price: item.price,\n      quantity: item.quantity,\n      title: item.title,\n      url: item.url\n    }]\n\n    ).then((response) => {\n      console.log(response);\n    })\n    .catch((error) => {\n        console.log(error);\n    })\n  }\n\n  const changeQuantity = (item, e) => {\n    const productList = [...cart];\n    console.log(item,e);\n    const index = productList.indexOf(item);\n    if (e === '+') {\n      productList[index].quantity++;\n      //update quantity of item\n      axios.put('http://localhost:8080/Cart/cart',{\n        id:'',\n      })\n      .then((Response)=>{\n        console.log(Response);\n      }).catch((Err)=>{\n        console.log(Err);\n      })\n    }\n    else {\n      if (productList[index].quantity > 1) {\n        productList[index].quantity--;\n        //Remove item from Database\n        axios.put('http://localhost:8080/Cart/cart',{\n          id:'',\n        })\n        .then((Response)=>{\n          console.log(Response);\n        }).catch((Err)=>{\n          console.log(Err);\n        })\n      }\n      else {\n        productList.splice(index, 1);\n        //delete API\n        axios.delete('http://localhost:8080/Cart/cart',{\n          id:'',\n        })\n        .then((Response)=>{\n          console.log(Response);\n        }).catch((Err)=>{\n          console.log(Err);\n        })\n      }\n    }\n    setCart(productList);\n  }\n\n  const handleClearProducts = () => {\n    console.log('clear', cart);\n    let CartItems=[];\n    axios.get('http://localhost:8080/Cart/cart')\n    .then((response)=>{\n      console.log(response);\n      CartItems=response.data;\n    }).catch((err)=>{\n      console.log(err);\n    })\n    CartItems.map((element)=>{\n      axios.delete('http://localhost:8080/Cart/cart',{\n        id:element.id,\n      })\n      .then((Response)=>{\n        console.log(Response);\n      }).catch((Err)=>{\n        console.log(Err);\n      })\n    })\n    \n    setCart([]);\n  }\n\n  return (\n    <div className=\"App\">\n      <Resturants selectedResturants={selectedResturants} setResturant={setResturant} />\n      <Categories selectedCategories={selectedCategories} setCategory={setCategory} />\n      <Products searchProducts={searchProducts} products={products} sortProducts={sortProducts} addToCart={addToCart} />\n      <Cart handleClearProducts={handleClearProducts} products={cart} changeQuantity={changeQuantity} />\n\n    </div>\n  );\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}